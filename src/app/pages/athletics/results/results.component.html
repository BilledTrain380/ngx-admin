<div>

    <div>

        <nb-card>

            <nb-card-header>

                Resultate

            </nb-card-header>

            <nb-card-body>

                <nb-card>

                    <nb-card-header>
                        Darstellungsoptionen
                    </nb-card-header>

                    <nb-card-body>

                        <div class="row">

                            <div class="col-lg-3">

                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                            <input type="checkbox" [(ngModel)]="isMale" (change)="maleChanged()">
                                        </div>
                                    </div>
                                    <input type="text" class="form-control" value="Knaben" disabled>
                                </div>

                            </div>

                            <div class="col-lg-3">

                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                            <input type="checkbox" [(ngModel)]="isFemale" (change)="femaleChanged()">
                                        </div>
                                    </div>
                                    <input type="text" class="form-control" value="MÃ¤dchen" disabled>
                                </div>

                            </div>

                            <div class="col-lg-3">
                                <ngx-smart-select
                                    label="Gruppe"
                                    [data]="groups"
                                    [settings]="groupSelectSettings"
                                    (onChange)="onGroupChange($event)">
                                </ngx-smart-select>
                            </div>

                            <div class="col-lg-3">
                                <ngx-smart-select
                                    label="Disciplin"
                                    [data]="disciplines"
                                    [settings]="disciplineSelectSettings"
                                    (onChange)="onDisciplineChange($event)">
                                </ngx-smart-select>
                            </div>

                        </div>

                    </nb-card-body>

                </nb-card>


                <!--<ng2-smart-table [settings]="tableSettings" [source]="tableSource"></ng2-smart-table>-->

                <table class="table">

                    <thead>
                        <tr class="ng2-smart-titles">
                            <th class="ng2-smart-th">Startnummer</th>
                            <th class="ng2-smart-th">Vorname</th>
                            <th class="ng2-smart-th">Nachname</th>
                            <th class="ng2-smart-th">Geschlecht</th>
                            <th class="ng2-smart-th">Leistung</th>
                            <th class="ng2-smart-th">Punkte</th>
                        </tr>
                    </thead>

                    <tbody>

                        <tr *ngFor="let competitor of competitors">
                            <td>{{ competitor.startNumber }}</td>
                            <td>{{ competitor.prename }}</td>
                            <td>{{ competitor.surname }}</td>
                            <td>{{ competitor.gender }}</td>
                            <td>

                                <div class="input-group input-group-sm"  *ngIf="competitor.result">
                                <span class="input-group-prepend" *ngIf="competitor.result.distance">
                                    <button class="btn btn-secondary input-group-text" style="text-transform: none" tabindex="-1">
                                      Distanz: {{ competitor.result.distance }}
                                    </button>
                                </span>
                                    <input type="text" class="form-control" style="max-width: 100px"
                                           [ngClass]="{ 'form-control-danger': !competitor.result.isValueValid }"
                                           [(ngModel)]="competitor.result.value"
                                           (ngModelChange)="competitor.result.valueChanged()">
                                    <span class="input-group-append">
                                    <button class="btn btn-secondary input-group-text" style="text-transform: none" tabindex="-1">
                                      {{ competitor.result.unit }}
                                    </button>
                                </span>
                                </div>

                            </td>
                            <td>
                                <div  *ngIf="competitor.result">
                                    <span *ngIf="!competitor.result.isCalculating">{{ competitor.result.points }}</span>
                                    <i *ngIf="competitor.result.isCalculating" class="fa fa-spinner fa-spin"></i>
                                </div>
                            </td>
                        </tr>

                    </tbody>

                </table>

            </nb-card-body>

        </nb-card>

    </div>

</div>
